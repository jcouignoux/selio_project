{% extends 'store/base.html' %}
{% load static %}

<br />
<div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
    <div class="d-flex col">
        <div class="dropdown-toggle active px-4 px-lg-5" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">Cat√©gories</div>
        <select class="dropdown-menu" aria-labelledby="navbarDropdown" size="8" onchange="location = this.value;">
            {% for category in categories_list %}
            <option class="dropdown-item" value="{% url 'store:store' select_type='categories' select_id=category.id %}">{{ category.name }}</option>
            {% endfor %}
        </select>
        <div class="dropdown-toggle active px-4 px-lg-5" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">Auteurs</div>
        <select class="dropdown-menu" aria-labelledby="navbarDropdown" size="8" onchange="location = this.value;">
            {% for author in authors_list %}
            <option class="dropdown-item" value="{% url 'store:store' select_type='authors' select_id=author.id %}">{{ author.name }}</option>
            {% endfor %}
        </select>
        <div class="dropdown-toggle active px-4 px-lg-5" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">Editeurs</div>
        <select class="dropdown-menu" aria-labelledby="navbarDropdown" size="8" onchange="location = this.value;">
            {% for publisher in publishers_list %}
            <option class="dropdown-item" value="{% url 'store:store' select_type='publishers' select_id=publisher.id %}">{{ publisher.name }}</option>
            {% endfor %}
        </select>
    </div>
    <form class="d-flex col" action="{% url 'store:store' select_type='All' select_id='All' %}" method="POST">
        {% csrf_token %}
        <input class="search col" type="search" name="search" placeholder="Recherche dans les titres">
        <button class="btn btn-outline-dark mt-auto" type="submit"> 
            <i class="bi bi-search me-1"></i>
        </button>
    </form>
</div>
{% if type_filter %}
    <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 offcanvas-title justify-content-center">
        {{ type_filter }} : {{ sel_id }}
    </div>
{% endif %}
{% block content %}
    {% include 'store/list.html' with list_title='Tous nos ouvrages' %}
{% endblock %}